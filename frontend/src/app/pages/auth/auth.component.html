<div class="container">
  <div class="content" @slideDown>
    <h2 class="logo"><i class="bx bxs-castle"></i> FitForge</h2>
    <div class="text-sci">
      <h2>Welcome to Your Fitness Tracker!</h2>
      <p>
        Join our community and start your personalized fitness journey today. Easy tracking, insightful progress reports, and real-time goal setting await you!
      </p>
      <!-- <div class="social-icons">
        <a href="#"><i class="bx bxl-linkedin"></i></a>
        <a href="#"><i class="bx bxl-facebook"></i></a>
        <a href="#"><i class="bx bxl-instagram"></i></a>
        <a href="#"><i class="bx bxl-twitter"></i></a>
      </div> -->
    </div>
  </div>

  <div class="logreg-box" [class.active]="isRegisterActive" @slideDownWithBlur>
    <div class="form-box login">
      <form [formGroup]="loginForm" (ngSubmit)="login()">
        <h2>Sign In</h2>
        <div class="input-box">
          <span class="icon"><i class="bx bxs-envelope"></i></span>
          <input type="text" formControlName="email" required />
          <label>Email</label>
          <div *ngIf="loginForm.get('email')?.errors?.['required'] && (loginForm.get('email')?.touched || submitted)">
            <small class="text-danger">Please enter a valid email.</small>
          </div>
        </div>
        <div class="input-box">
          <span class="icon"><i class="bx bxs-lock-alt"></i></span>
          <input type="password" formControlName="password" required />
          <label>Password</label>
          <div *ngIf="loginForm.get('password')?.errors?.['required'] && (loginForm.get('password')?.touched || submitted)">
            <small class="text-danger">Password is required.</small>
          </div>
          <div *ngIf="loginForm.get('password')?.errors?.['minlength'] && (loginForm.get('password')?.touched || submitted)">
            <small class="text-danger">Password must be at least 6 characters long.</small>
          </div>
        </div>
        <br />
        <div class="remember-forgot">
          <label><input type="checkbox" formControlName="rememberMe" />Remember me</label>
        </div>
        <button type="submit" class="btn">Sign in</button>
        <div class="login-register">
          <p>
            Don't have an account?
            <a (click)="toggleForms()" class="register-link">Sign up</a>
          </p>
          <div class="or-divider">or</div>
          <button type="button" (click)="loginWithGoogle()" class="login-with-google-btn">Sign in with Google</button>
        </div>
      </form>
    </div>

    <div class="form-box register">
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <h2>Sign Up</h2>

        <div class="input-box">
          <span class="icon"><i class="bx bxs-user"></i></span>
          <input type="text" formControlName="username" required />
          <label>Username</label>
          <div *ngIf="registerForm.get('username')?.errors?.['minlength'] && (registerForm.get('username')?.touched || submitted)">
            <small class="text-danger">Username must be at least 3 characters long.</small>
          </div>
          <div *ngIf="registerForm.get('username')?.errors?.['required'] && (registerForm.get('username')?.touched || submitted)">
            <small class="text-danger">Username is required.</small>
          </div>
        </div>

        <div class="input-box">
          <span class="icon"><i class="bx bxs-envelope"></i></span>
          <input type="text" formControlName="email" required />
          <label>Email</label>
          <div *ngIf="registerForm.get('email')?.errors?.['required'] && (registerForm.get('email')?.touched || submitted)">
            <small class="text-danger">Please enter a valid email.</small>
          </div>
        </div>

        <div class="input-box">
          <span class="icon"><i class="bx bxs-lock-alt"></i></span>
          <input type="password" formControlName="password" required />
          <label>Password</label>
          <div *ngIf="registerForm.get('password')?.errors?.['required'] && (registerForm.get('password')?.touched || submitted)">
            <small class="text-danger">Password is required.</small>
          </div>
          <div *ngIf="registerForm.get('password')?.errors?.['minlength'] && (registerForm.get('password')?.touched || submitted)">
            <small class="text-danger">Password must be at least 6 characters long.</small>
          </div>
        </div>
        <br />
        <button type="submit" class="btn">Sign up</button>
        <div class="login-register">
          <p>
            Already have an account?
            <a (click)="toggleForms()" class="login-link">Sign in</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
